
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Installation &#8212; Python FSPS  documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/flasky.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex/" />
    <link rel="search" title="Search" href="../search/" />
    <link rel="next" title="Modelling Stellar Populations" href="../stellarpop_api/" />
    <link rel="prev" title="Flexible Stellar Population Synthesis for Python" href="../" />   
<meta
  name="viewport"
  content="width=device-width, initial-scale=0.9, maximum-scale=0.9"
/>

<!-- https://www.google.com/fonts#UsePlace:use/Collection:Source+Sans+Pro:400,700,400italic,700italic|Source+Code+Pro -->
<link
  href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,400italic,700italic|Source+Code+Pro"
  rel="stylesheet"
  type="text/css"
/>

<link rel="shortcut icon" href="../_static/favicon.png" />


  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../stellarpop_api/" title="Modelling Stellar Populations"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../" title="Flexible Stellar Population Synthesis for Python"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../">Python FSPS  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Installation</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>There are only two required dependencies for building this package: <a class="reference external" href="https://github.com/cconroy20/fsps">FSPS</a> (obviously) and <a class="reference external" href="https://www.numpy.org/">NumPy</a>.
First, make sure that you have NumPy installed (using your favorite method)
and access to the <code class="docutils literal notranslate"><span class="pre">f2py</span></code> executable (this should be installed along with
NumPy).</p>
<p>Then, you need to follow the directions on <a class="reference external" href="https://github.com/cconroy20/fsps">the FSPS page</a> to clone and compile the FSPS
package. Python-FSPS is built against specific versions of the FSPS Fortran
API, so it is important that you have a recent version of FSPS through
git. Currently Python-FSPS is built against FSPS v3.0.</p>
<p>These bindings rely on the value of the <code class="docutils literal notranslate"><span class="pre">SPS_HOME</span></code> environment
variable being correctly set and the compiled <code class="docutils literal notranslate"><span class="pre">.o</span></code> and <code class="docutils literal notranslate"><span class="pre">.mod</span></code>
files being available in the <code class="docutils literal notranslate"><span class="pre">${SPS_HOME}/src</span></code> directory.</p>
</div>
<div class="section" id="installing-development-version">
<h2>Installing development version<a class="headerlink" href="#installing-development-version" title="Permalink to this headline">¶</a></h2>
<p>Python-FSPS is being actively developed on GitHub so it’s usually best
to use the most recent development version.
You can do this by cloning the <a class="reference external" href="https://github.com/dfm/python-fsps">python-fsps repository</a> and building:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">dfm</span><span class="o">/</span><span class="n">python</span><span class="o">-</span><span class="n">fsps</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">python</span><span class="o">-</span><span class="n">fsps</span>
<span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span>
</pre></div>
</div>
</div>
<div class="section" id="installing-stable-version">
<h2>Installing stable version<a class="headerlink" href="#installing-stable-version" title="Permalink to this headline">¶</a></h2>
<p>After you have FSPS and NumPy installed, you _might_ be able to install the
most recent stable version of python-fsps using pip:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install fsps
</pre></div>
</div>
<p>If this does not work, please <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">uninstall</span> <span class="pre">fsps</span></code> and follow the
instructions above for installing the development version.</p>
</div>
<div class="section" id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h2>
<p>Here are possible fixes for the most common installation issues:</p>
<ul>
<li><p>Version mismatch.  Python-FSPS is built against specific versions of FSPS.
This can cause problems if you have a different version of FSPS.  Python-FSPS
attempts to check that you have a compatible version of FSPS during
installation, and if you do not it will print an error.  This requires that
you have <cite>git</cite> and that FSPS be under git version control.  If you do not
have the correct version, try:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>cd $SPS_HOME
git pull
cd src
make clean
make all
</pre></div>
</div>
<p>to get and compile the most recent version.  Then try to install python-FSPS again.</p>
</li>
<li><p>fPIC.  For some compilers (e.g. Intel) it may be necessary to set the
<code class="docutils literal notranslate"><span class="pre">-fPIC</span></code> flag in the Makefile when compiling FSPS. Please try this if you
encounter long python-FSPS installation errors that contain the
text <code class="docutils literal notranslate"><span class="pre">can</span> <span class="pre">not</span> <span class="pre">be</span> <span class="pre">used</span> <span class="pre">when</span> <span class="pre">making</span> <span class="pre">a</span> <span class="pre">shared</span> <span class="pre">object;</span> <span class="pre">recompile</span> <span class="pre">with</span> <span class="pre">-fPIC</span></code>.
For gfortran the flag is not necesary.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>cd $SPS_HOME/src
</pre></div>
</div>
<p>edit the <code class="docutils literal notranslate"><span class="pre">F90FLAGS=</span></code> line in the Makefile to include <code class="docutils literal notranslate"><span class="pre">-fPIC</span></code> and then:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">clean</span>
<span class="n">make</span> <span class="nb">all</span>
</pre></div>
</div>
<p>Then try to install Python-FSPS again.</p>
</li>
<li><p>Problems with <code class="docutils literal notranslate"><span class="pre">f2py</span></code>. The 1.10.x versions of <code class="docutils literal notranslate"><span class="pre">numpy</span></code> introduced some
compatibility problems in
<code class="docutils literal notranslate"><span class="pre">f2py</span></code>.  These seem to have been fixed in 1.11.x versions and the fixes
retroactively added to the 1.10.x versions, but if you encounter long
complicated error messages that end with something like <code class="docutils literal notranslate"><span class="pre">KeyError:</span> <span class="pre">'void'</span></code>,
please consider upgrading your <code class="docutils literal notranslate"><span class="pre">numpy</span></code> installation.</p></li>
</ul>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><p class="logo">
    <a href="../">
        <img class="logo" src="../_static/pyfsps_logo.svg" alt="Logo"/>
    </a>
</p>

<p>
    Python-FSPS is a set of bindings to Charlie Conroy's
    <a href="https://github.com/cconroy20/fsps">
      Flexible Stellar Population Synthesis</a> Fortran library.
</p>
  <h3><a href="../">Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Installation</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#installing-development-version">Installing development version</a></li>
<li><a class="reference internal" href="#installing-stable-version">Installing stable version</a></li>
<li><a class="reference internal" href="#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="../">Documentation overview</a><ul>
      <li>Previous: <a href="../" title="previous chapter">Flexible Stellar Population Synthesis for Python</a></li>
      <li>Next: <a href="../stellarpop_api/" title="next chapter">Modelling Stellar Populations</a></li>
  </ul></li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

<div class="footer">&copy; Copyright 2013-2021 Python-FSPS developers.</div>
  </body>
</html>